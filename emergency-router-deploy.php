<?php
// EMERGENCY ROUTER.PHP DEPLOYMENT
// Upload this file to your server and visit it once to fix the Router.php missing error

echo '<h1>üö® Emergency Router.php Deployment</h1>';

$routerContent = base64_decode('PD9waHANCm5hbWVzcGFjZSBDYXNpbm9Qb3J0YWxcQ29yZTsNCg0KY2xhc3MgUm91dGVyIHsNCiAgICBwcml2YXRlICRyb3V0ZXMgPSBbXTsNCiAgICBwcml2YXRlICRjdXJyZW50Um91dGUgPSBudWxsOw0KICAgIA0KICAgIHB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgpIHsNCiAgICAgICAgJHRoaXMtPnNldHVwRGVmYXVsdFJvdXRlcygpOw0KICAgIH0NCiAgICANCiAgICBwdWJsaWMgZnVuY3Rpb24gYWRkUm91dGUoc3RyaW5nICRtZXRob2QsIHN0cmluZyAkcGF0aCwgY2FsbGFibGUgJGhhbmRsZXIpOiB2b2lkIHsNCiAgICAgICAgJHRoaXMtPnJvdXRlc1skbWV0aG9kXVskcGF0aF0gPSAkaGFuZGxlcjsNCiAgICB9DQogICAgDQogICAgcHVibGljIGZ1bmN0aW9uIGdldChzdHJpbmcgJHBhdGgsIGNhbGxhYmxlICRoYW5kbGVyKTogdm9pZCB7DQogICAgICAgICR0aGlzLT5hZGRSb3V0ZSgnR0VUJywgJHBhdGgsICRoYW5kbGVyKTsNCiAgICB9DQogICAgDQogICAgcHVibGljIGZ1bmN0aW9uIHBvc3Qoc3RyaW5nICRwYXRoLCBjYWxsYWJsZSAkaGFuZGxlcik6IHZvaWQgew0KICAgICAgICAkdGhpcy0+YWRkUm91dGUoJ1BPU1QnLCAkcGF0aCwgJGhhbmRsZXIpOw0KICAgIH0NCiAgICANCiAgICBwdWJsaWMgZnVuY3Rpb24gZGlzcGF0Y2goKTogdm9pZCB7DQogICAgICAgICRtZXRob2QgPSAkX1NFUlZFUlsnUkVRVUVTVF9NRVRIT0QnXSA/PyAnR0VUJzsNCiAgICAgICAgJHVyaSA9ICRfU0VSVkVSWydSRVFVRVNUX1VSSSddID8/ICcvJzsNCiAgICAgICAgDQogICAgICAgIC8vIFBhcnNlIFVSSSBhbmQgcmVtb3ZlIHF1ZXJ5IHN0cmluZw0KICAgICAgICAkcGF0aCA9IHBhcnNlX3VybCgkdXJpLCBQSFBfVVJMX1BBVEgpOw0KICAgICAgICANCiAgICAgICAgLy8gUmVtb3ZlIHRyYWlsaW5nIHNsYXNoIHVubGVzcyBpdCdzIHJvb3QNCiAgICAgICAgaWYgKCRwYXRoICE9PSAnLycgJiYgc3Vic3RyKCRwYXRoLCAtMSkgPT09ICcvJykgew0KICAgICAgICAgICAgJHBhdGggPSBydHJpbSgkcGF0aCwgJy8nKTsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgLy8gVHJ5IHRvIG1hdGNoIGV4YWN0IHJvdXRlDQogICAgICAgIGlmIChpc3NldCgkdGhpcy0+cm91dGVzWyRtZXRob2RdWyRwYXRoXSkpIHsNCiAgICAgICAgICAgICR0aGlzLT5jdXJyZW50Um91dGUgPSAkcGF0aDsNCiAgICAgICAgICAgIGNhbGxfdXNlcl9mdW5jKCR0aGlzLT5yb3V0ZXNbJG1ldGhvZF1bJHBhdGhdKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgLy8gVHJ5IHRvIG1hdGNoIHdpdGggcGFyYW1ldGVycw0KICAgICAgICBmb3JlYWNoICgkdGhpcy0+cm91dGVzWyRtZXRob2RdID8/IFtdIGFzICRyb3V0ZVBhdGggPT4gJGhhbmRsZXIpIHsNCiAgICAgICAgICAgIGlmICgkdGhpcy0+bWF0Y2hSb3V0ZSgkcm91dGVQYXRoLCAkcGF0aCkpIHsNCiAgICAgICAgICAgICAgICAkdGhpcy0+Y3VycmVudFJvdXRlID0gJHJvdXRlUGF0aDsNCiAgICAgICAgICAgICAgICBjYWxsX3VzZXJfZnVuYygkaGFuZGxlcik7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICAvLyBObyByb3V0ZSBmb3VuZCAtIDQwNA0KICAgICAgICAkdGhpcy0+aGFuZGxlNDA0KCk7DQogICAgfQ0KICAgIA0KICAgIHByaXZhdGUgZnVuY3Rpb24gbWF0Y2hSb3V0ZShzdHJpbmcgJHJvdXRlUGF0aCwgc3RyaW5nICRyZXF1ZXN0UGF0aCk6IGJvb2wgew0KICAgICAgICAvLyBDb252ZXJ0IHJvdXRlIHBhdGggdG8gcmVnZXgNCiAgICAgICAgJHBhdHRlcm4gPSBwcmVnX3JlcGxhY2UoJy9ce1tefV0rXH0vJywgJyhbXi9dKyknLCAkcm91dGVQYXRoKTsNCiAgICAgICAgJHBhdHRlcm4gPSBzdHJfcmVwbGFjZSgnLycsICdcLycsICRwYXR0ZXJuKTsNCiAgICAgICAgJHBhdHRlcm4gPSAnL14nIC4gJHBhdHRlcm4gLiAnJC8nOw0KICAgICAgICANCiAgICAgICAgcmV0dXJuIHByZWdfbWF0Y2goJHBhdHRlcm4sICRyZXF1ZXN0UGF0aCk7DQogICAgfQ0KICAgIA0KICAgIHByaXZhdGUgZnVuY3Rpb24gc2V0dXBEZWZhdWx0Um91dGVzKCk6IHZvaWQgew0KICAgICAgICAvLyBEZWZhdWx0IHJvdXRlcw0KICAgICAgICAkdGhpcy0+Z2V0KCcvJywgWyR0aGlzLCAnaGFuZGxlSG9tZSddKTsNCiAgICAgICAgJHRoaXMtPmdldCgnL2hvbWUnLCBbJHRoaXMsICdoYW5kbGVIb21lJ10pOw0KICAgICAgICAkdGhpcy0+Z2V0KCcvY2FzaW5vcycsIFskdGhpcywgJ2hhbmRsZUNhc2lub3MnXSk7DQogICAgICAgICR0aGlzLT5nZXQoJy9jYXNpbm8ve2lkfScsIFskdGhpcywgJ2hhbmRsZUNhc2lub0RldGFpbCddKTsNCiAgICAgICAgJHRoaXMtPmdldCgnL3Jldmlld3MnLCBbJHRoaXMsICdoYW5kbGVSZXZpZXdzJ10pOw0KICAgICAgICAkdGhpcy0+Z2V0KCcvZ2VuZXJhdGUtY29udGVudCcsIFskdGhpcywgJ2hhbmRsZUdlbmVyYXRlQ29udGVudCddKTsNCiAgICAgICAgJHRoaXMtPnBvc3QoJy9hcGkvZ2VuZXJhdGUtcmV2aWV3JywgWyR0aGlzLCAnaGFuZGxlQXBpR2VuZXJhdGVSZXZpZXcnXSk7DQogICAgICAgICR0aGlzLT5nZXQoJy9kZW1vLWFudGktYWknLCBbJHRoaXMsICdoYW5kbGVBbnRpQWlEZW1vJ10pOw0KICAgIH0NCiAgICANCiAgICBwdWJsaWMgZnVuY3Rpb24gaGFuZGxlSG9tZSgpOiB2b2lkIHsNCiAgICAgICAgcmVxdWlyZV9vbmNlIF9fRElSX18gLiAnLy4uL0NvbnRyb2xsZXJzL0hvbWVDb250cm9sbGVyLnBocCc7DQogICAgICAgICRjb250cm9sbGVyID0gbmV3IFxDYXNpbm9Qb3J0YWxcQ29udHJvbGxlcnNcSG9tZUNvbnRyb2xsZXIoKTsNCiAgICAgICAgJGNvbnRyb2xsZXItPmluZGV4KCk7DQogICAgfQ0KICAgIA0KICAgIHB1YmxpYyBmdW5jdGlvbiBoYW5kbGVDYXNpbm9zKCk6IHZvaWQgew0KICAgICAgICByZXF1aXJlX29uY2UgX19ESVJfXyAuICcvLi4vQ29udHJvbGxlcnMvQ2FzaW5vQ29udHJvbGxlci5waHAnOw0KICAgICAgICAkY29udHJvbGxlciA9IG5ldyBcQ2FzaW5vUG9ydGFsXENvbnRyb2xsZXJzXENhc2lub0NvbnRyb2xsZXIoKTsNCiAgICAgICAgJGNvbnRyb2xsZXItPmxpc3QoKTsNCiAgICB9DQogICAgDQogICAgcHVibGljIGZ1bmN0aW9uIGhhbmRsZUNhc2lub0RldGFpbCgpOiB2b2lkIHsNCiAgICAgICAgcmVxdWlyZV9vbmNlIF9fRElSX18gLiAnLy4uL0NvbnRyb2xsZXJzL0Nhc2lub0NvbnRyb2xsZXIucGhwJzsNCiAgICAgICAgJGNvbnRyb2xsZXIgPSBuZXcgXENhc2lub1BvcnRhbFxDb250cm9sbGVyc1xDYXNpbm9Db250cm9sbGVyKCk7DQogICAgICAgIA0KICAgICAgICAvLyBFeHRyYWN0IElEIGZyb20gVVJMDQogICAgICAgICR1cmkgPSAkX1NFUlZFUlsnUkVRVUVTVF9VUkknXSA/PyAnLyc7DQogICAgICAgICRwYXRoID0gcGFyc2VfdXJsKCR1cmksIFBIUF9VUkxfUEFUSCk7DQogICAgICAgICRzZWdtZW50cyA9IGV4cGxvZGUoJy8nLCB0cmltKCRwYXRoLCAnLycpKTsNCiAgICAgICAgJGlkID0gZW5kKCRzZWdtZW50cyk7DQogICAgICAgIA0KICAgICAgICAkY29udHJvbGxlci0+ZGV0YWlsKCRpZCk7DQogICAgfQ0KICAgIA0KICAgIHB1YmxpYyBmdW5jdGlvbiBoYW5kbGVSZXZpZXdzKCk6IHZvaWQgew0KICAgICAgICAvLyBSZWRpcmVjdCB0byByZXZpZXdzLnBocCBmb3Igbm93DQogICAgICAgIGluY2x1ZGUgX19ESVJfXyAuICcvLi4vLi4vcHVibGljL3Jldmlld3MucGhwJzsNCiAgICAgICAgZXhpdDsNCiAgICB9DQogICAgDQogICAgcHVibGljIGZ1bmN0aW9uIGhhbmRsZUdlbmVyYXRlQ29udGVudCgpOiB2b2lkIHsNCiAgICAgICAgcmVxdWlyZV9vbmNlIF9fRElSX18gLiAnLy4uL0NvbnRyb2xsZXJzL0NvbnRlbnRDb250cm9sbGVyLnBocCc7DQogICAgICAgICRjb250cm9sbGVyID0gbmV3IFxDYXNpbm9Qb3J0YWxcQ29udHJvbGxlcnNcQ29udGVudENvbnRyb2xsZXIoKTsNCiAgICAgICAgJGNvbnRyb2xsZXItPmdlbmVyYXRlKCk7DQogICAgfQ0KICAgIA0KICAgIHB1YmxpYyBmdW5jdGlvbiBoYW5kbGVBcGlHZW5lcmF0ZVJldmlldygpOiB2b2lkIHsNCiAgICAgICAgcmVxdWlyZV9vbmNlIF9fRElSX18gLiAnLy4uL0NvbnRyb2xsZXJzL0NvbnRlbnRDb250cm9sbGVyLnBocCc7DQogICAgICAgICRjb250cm9sbGVyID0gbmV3IFxDYXNpbm9Qb3J0YWxcQ29udHJvbGxlcnNcQ29udGVudENvbnRyb2xsZXIoKTsNCiAgICAgICAgJGNvbnRyb2xsZXItPmdlbmVyYXRlUmV2aWV3KCk7DQogICAgfQ0KICAgIA0KICAgIHB1YmxpYyBmdW5jdGlvbiBoYW5kbGVBbnRpQWlEZW1vKCk6IHZvaWQgew0KICAgICAgICByZXF1aXJlX29uY2UgX19ESVJfXyAuICcvLi4vU2VydmljZXMvQW50aUFJRGVtby5waHAnOw0KICAgICAgICAkZGVtbyA9IG5ldyBcQ2FzaW5vUG9ydGFsXFNlcnZpY2VzXEFudGlBSURlbW8oKTsNCiAgICAgICAgDQogICAgICAgIGhlYWRlcignQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uJyk7DQogICAgICAgIGVjaG8ganNvbl9lbmNvZGUoJGRlbW8tPmRlbW9uc3RyYXRlQW50aUFJKCksIEpTT05fUFJFVFRZX1BSSU5UKTsNCiAgICAgICAgZXhpdDsNCiAgICB9DQogICAgDQogICAgcHJpdmF0ZSBmdW5jdGlvbiBoYW5kbGU0MDQoKTogdm9pZCB7DQogICAgICAgIGh0dHBfcmVzcG9uc2VfY29kZSg0MDQpOw0KICAgICAgICBlY2hvICc8IURPQ1RZUEUgaHRtbD4NCjxodG1sIGxhbmc9ImVuIj4NCjxoZWFkPg0KICAgIDxtZXRhIGNoYXJzZXQ9IlVURi04Ij4NCiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCI+DQogICAgPHRpdGxlPjQwNCAtIFBhZ2UgTm90IEZvdW5kIHwgQmVzdCBDYXNpbm8gUG9ydGFsPC90aXRsZT4NCiAgICA8c3R5bGU+DQogICAgICAgIGJvZHkgew0KICAgICAgICAgICAgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmOw0KICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzFhMWEyZSAwJSwgIzE2MjEzZSAxMDAlKTsNCiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsNCiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICAgICAgICAgIHBhZGRpbmc6IDUwcHggMjBweDsNCiAgICAgICAgICAgIG1hcmdpbjogMDsNCiAgICAgICAgfQ0KICAgICAgICAuY29udGFpbmVyIHsNCiAgICAgICAgICAgIG1heC13aWR0aDogNjAwcHg7DQogICAgICAgICAgICBtYXJnaW46IDAgYXV0bzsNCiAgICAgICAgICAgIHBhZGRpbmc6IDQwcHg7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuMSk7DQogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxNXB4Ow0KICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyMTIsMTc1LDU1LDAuMyk7DQogICAgICAgIH0NCiAgICAgICAgaDEgew0KICAgICAgICAgICAgZm9udC1zaXplOiA0cmVtOw0KICAgICAgICAgICAgY29sb3I6ICNmZmQ3MDA7DQogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4Ow0KICAgICAgICB9DQogICAgICAgIGgyIHsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMnJlbTsNCiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7DQogICAgICAgIH0NCiAgICAgICAgcCB7DQogICAgICAgICAgICBmb250LXNpemU6IDEuMnJlbTsNCiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDMwcHg7DQogICAgICAgICAgICBjb2xvcjogI2NjY2NjYzsNCiAgICAgICAgfQ0KICAgICAgICAuYnRuIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg0NWRlZywgI2Q0YWYzNywgI2ZmZDcwMCk7DQogICAgICAgICAgICBjb2xvcjogIzFhMWEyZTsNCiAgICAgICAgICAgIHBhZGRpbmc6IDE1cHggMzBweDsNCiAgICAgICAgICAgIGJvcmRlcjogbm9uZTsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMS4xcmVtOw0KICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7DQogICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7DQogICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7DQogICAgICAgICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4zcyBlYXNlOw0KICAgICAgICB9DQogICAgICAgIC5idG46aG92ZXIgew0KICAgICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjA1KTsNCiAgICAgICAgfQ0KICAgIDwvc3R5bGU+DQo8L2hlYWQ+DQo8Ym9keT4NCiAgICA8ZGl2IGNsYXNzPSJjb250YWluZXIiPg0KICAgICAgICA8aDE+NDA0PC9oMT4NCiAgICAgICAgPGgyPvCfjrAgUGFnZSBOb3QgRm91bmQ8L2gyPg0KICAgICAgICA8cD5Tb3JyeSwgdGhlIHBhZ2UgeW91XCdyZSBsb29raW5nIGZvciBkb2VzblwndCBleGlzdC48YnI+DQogICAgICAgIE1heWJlIHRyeSB5b3VyIGx1Y2sgYXQgb3VyIGNhc2lubyByZXZpZXdzIGluc3RlYWQ/PC9wPg0KICAgICAgICA8YSBocmVmPSIvIiBjbGFzcz0iYnRuIj7wn4+gIEdvIEhvbWU8L2E+DQogICAgICAgIDxhIGhyZWY9Ii9yZXZpZXdzIiBjbGFzcz0iYnRuIj7wn46yIFZpZXcgUmV2aWV3czwvYT4NCiAgICA8L2Rpdj4NCjwvYm9keT4NCjwvaHRtbD4nOw0KICAgICAgICBleGl0Ow0KICAgIH0NCiAgICANCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0Q3VycmVudFJvdXRlKCk6ID9zdHJpbmcgew0KICAgICAgICByZXR1cm4gJHRoaXMtPmN1cnJlbnRSb3V0ZTsNCiAgICB9DQp9DQo=');
$targetDir = '/var/www/casino-portal/src/Core';

// Create directory if it doesn't exist
if (!is_dir($targetDir)) {
    if (mkdir($targetDir, 0755, true)) {
        echo '<p>‚úÖ Created directory: ' . $targetDir . '</p>';
    } else {
        echo '<p>‚ùå Failed to create directory: ' . $targetDir . '</p>';
        exit;
    }
}

// Write Router.php file
if (file_put_contents($targetDir . '/Router.php', $routerContent)) {
    echo '<p>‚úÖ Router.php deployed successfully!</p>';
    echo '<p>üìÅ Location: ' . $targetDir . '/Router.php</p>';
    echo '<p>üìä Size: ' . strlen($routerContent) . ' bytes</p>';
    
    // Set proper permissions
    chmod($targetDir . '/Router.php', 0644);
    echo '<p>üîê Permissions set to 644</p>';
    
    echo '<h2>üß™ Testing...</h2>';
    echo '<p><a href="/">üè† Test Homepage</a></p>';
    echo '<p><a href="/casinos">üé∞ Test Casino List</a></p>';
    echo '<p><a href="/reviews">üìù Test Reviews</a></p>';
    
    echo '<h2>‚ö†Ô∏è IMPORTANT</h2>';
    echo '<p style="color: red;">DELETE THIS FILE NOW for security!</p>';
    echo '<p>File to delete: ' . __FILE__ . '</p>';
    
} else {
    echo '<p>‚ùå Failed to write Router.php file</p>';
    echo '<p>Check permissions on: ' . $targetDir . '</p>';
}
?>
